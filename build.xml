<?xml version="1.0" encoding="UTF-8"?>
<project name="MapCircuitBoard" default="j8jar">
	<!-- Environments, do not modify! -->
	<property name="dir.src" value="src"/>
	<property name="dir.bin" value="bin"/>
	<property name="dir.j7bin" value="j7bin"/>
	
	<!-- Modify when API changes -->
	<property name="spigot" value="/home/luohaoran/spigot-1.9.0/spigot-1.9.jar"/>
	<property name="mpp" value="/home/luohaoran/mappainting-1.5.6b.jar"/>
	
	<!-- Modify when retrolambda path changes -->
	<property name="retrolambda" value="/home/luohaoran/Downloads/retrolambda-2.1.0.jar"/>
	
	<!-- Modify when Map Painting version changes -->
	<property name="version" value="1.0.0"/>
	
	<!-- Do not modify the following code -->
	<property name="artifact" value="mapcircuitboard"/>
	<property name="classpath" value="${dir.bin}:${spigot}:${mpp}"/>
	
	<target name="j8jar">
		<jar basedir="${dir.bin}" destfile="${artifact}-${version}-java8.jar"/>
	</target>
	
	<target name="j7bin">
		<mkdir dir="${dir.j7bin}"/>
		<java fork="true" jar="${retrolambda}">
			<jvmarg value="-Dretrolambda.inputDir=${dir.bin}"/>
			<jvmarg value="-Dretrolambda.outputDir=${dir.j7bin}"/>
			<jvmarg value="-Dretrolambda.classpath=${classpath}"/>
		</java>
	</target>
	
	<target name="j7jar" depends="j7bin">
		<jar basedir="${dir.j7bin}" destfile="${artifact}-${version}-java7.jar"/>
	</target>
</project>